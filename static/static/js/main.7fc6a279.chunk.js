(this.webpackJsonptruckwala=this.webpackJsonptruckwala||[]).push([[0],{12:function(e,t,c){},27:function(e,t,c){},34:function(e,t,c){},41:function(e,t,c){},60:function(e,t,c){},61:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c(28),s=c.n(r),a=c(4),i=c(5),o=(c(34),c(0)),l=function(e){return console.log(e),Object(o.jsx)("div",{className:"navbar-container",children:Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("nav",{children:[Object(o.jsx)("div",{className:"navbar-logo",children:"Truck Wala"}),Object(o.jsxs)("div",{children:[Object(o.jsx)("a",{className:"nav-link",href:"#status",children:"Status"}),""===e.info?null:Object(o.jsx)(a.b,{to:"/dashboard/".concat(e.info.user_type),className:"nav-link",children:"dashboard"}),""===e.info?Object(o.jsx)(a.b,{to:"/login",children:Object(o.jsx)("span",{className:"nav-link login-btn",children:"Login"})}):Object(o.jsx)("span",{className:"nav-link login-btn",onClick:function(){window.localStorage.removeItem("token"),window.location="/"},children:"Logout"})]})]})})})},d=c.p+"static/media/hero-image.abad09f8.png",j=(c(41),c(2)),b=c.n(j),h=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)(""),a=Object(i.a)(s,2),j=a[0],h=a[1];Object(n.useEffect)((function(){window.localStorage.getItem("token")&&b.a.get("http://127.0.0.1:8000/accounts/get_info/",{headers:{Authorization:"Bearer "+window.localStorage.getItem("token")}}).then((function(e){r(e.data)})).catch((function(e){console.log(e)}))}),[]);return Object(o.jsxs)("div",{children:[Object(o.jsx)(l,{info:c}),Object(o.jsxs)("div",{className:"hero-section",children:[Object(o.jsxs)("h1",{children:["Transfer Your ",Object(o.jsx)("span",{style:{color:"#e76247"},children:"Luggage"})," easily with Us"]}),Object(o.jsx)("div",{className:"image-container",children:Object(o.jsx)("img",{src:d,alt:"hero"})})]}),Object(o.jsx)("div",{className:"divider"}),Object(o.jsx)("section",{className:"container status-section",id:"status",children:Object(o.jsxs)("center",{children:[Object(o.jsx)("h1",{children:"Track Your Luggage"}),Object(o.jsxs)("form",{className:"status-form",onSubmit:function(e){return function(e){e.preventDefault();var t=document.getElementById("errors");b.a.get("http://127.0.0.1:8000/branch/track/".concat(document.getElementById("trackId").value),{headers:{Authorization:"Bearer "+window.localStorage.getItem("token")}}).then((function(e){h(e.data),t.innerHTML=""})).catch((function(e){h(""),t.innerHTML="Id Does Not Exist"}))}(e)},children:[Object(o.jsx)("input",{type:"text",placeholder:"enter Tracking Id",id:"trackId"}),Object(o.jsx)("input",{type:"submit",className:"submit-btn"})]}),""===j?null:Object(o.jsx)("div",{className:"neomorphism-effect tracking-details",children:Object(o.jsx)("table",{children:Object(o.jsxs)("tbody",{children:[Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{style:{color:"grey"},children:"Source"}),Object(o.jsx)("td",{children:j.source.name})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{style:{color:"grey"},children:"Destination"}),Object(o.jsx)("td",{children:j.destination.name})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{style:{color:"grey"},children:"Status"}),Object(o.jsx)("td",{children:j.status})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{style:{color:"grey"},children:"Truck Name"}),Object(o.jsx)("td",{children:j.truck.name})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{style:{color:"grey"},children:"Storage"}),Object(o.jsxs)("td",{children:[j.space," kg "]})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{style:{color:"grey"},children:"Time"}),Object(o.jsx)("td",{children:function(e){var t=e.split("-");return t[0]+"-"+t[1]+"-"+t[2][0]+t[2][1]}(j.time)})]})]})})}),Object(o.jsx)("center",{children:Object(o.jsx)("p",{style:{color:"#e76247"},id:"errors"})})]})}),Object(o.jsx)("div",{className:"divider"}),Object(o.jsx)("footer",{children:Object(o.jsxs)("div",{className:"footer-links",children:[Object(o.jsx)("div",{children:Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{children:"Facebook"}),Object(o.jsx)("li",{children:"Instagram"}),Object(o.jsx)("li",{children:"Dribble"}),Object(o.jsx)("li",{children:"Whatsup"})]})}),Object(o.jsx)("div",{className:"footer-form",children:Object(o.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[Object(o.jsx)("input",{type:"text",placeholder:"Email"}),Object(o.jsx)("input",{type:"submit",value:"Subscriibe",className:"submit-btn"})]})})]})})]})},u=c(3),O=(c(60),function(){return Object(o.jsxs)("div",{className:"neomorphism-effect signin-form",children:[Object(o.jsx)("center",{children:Object(o.jsx)("h2",{children:"SignIn To Your Account"})}),Object(o.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault();var t=document.getElementById("email"),c=document.getElementById("password");b.a.post("http://127.0.0.1:8000/api/token/",{email:t.value,password:c.value}).then((function(e){window.localStorage.setItem("token",e.data.access),window.location="/"})).catch((function(e){console.log(e),document.getElementById("error-message").innerHTML="=> Invalid Username and password"}))}(e)},children:[Object(o.jsx)("label",{children:"Your Email"}),Object(o.jsx)("center",{children:Object(o.jsx)("input",{type:"email",placeholder:"Email",id:"email"})}),Object(o.jsx)("label",{children:"Your Password"}),Object(o.jsx)("center",{children:Object(o.jsx)("input",{type:"password",placeholder:"password",id:"password"})}),Object(o.jsx)("center",{children:Object(o.jsx)("input",{type:"submit",value:"SignIn",className:"submit-btn"})})]}),Object(o.jsx)(a.b,{to:"/",className:"back-btn",children:" Back"}),Object(o.jsx)("p",{id:"error-message"})]})}),m=function(e){var t=Object(u.g)().user_type,c=Object(u.f)();return Object(o.jsx)("div",{children:void c.push("/".concat(t))})},x=(c(12),function(){return Object(o.jsxs)("div",{className:"neomorphism-effect signin-form",children:[Object(o.jsx)("center",{children:Object(o.jsx)("h2",{children:"Create branch"})}),Object(o.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault();var t=document.getElementById("email"),c=document.getElementById("password"),n=document.getElementById("name");b.a.post("http://127.0.0.1:8000/branch/branches/",{email:t.value,password:c.value,name:n.value},{headers:{Authorization:"Bearer "+window.localStorage.getItem("token")}}).then((function(e){window.location="/admin"})).catch((function(e){console.log(e),document.getElementById("error-message").innerHTML="=> Invalid Username and password"}))}(e)},children:[Object(o.jsx)("label",{children:"Branch Email"}),Object(o.jsx)("center",{children:Object(o.jsx)("input",{type:"email",placeholder:"Email",id:"email"})}),Object(o.jsx)("label",{children:"Branch Password"}),Object(o.jsx)("center",{children:Object(o.jsx)("input",{type:"password",placeholder:"password",id:"password"})}),Object(o.jsx)("label",{children:"Branch Name"}),Object(o.jsx)("center",{children:Object(o.jsx)("input",{type:"text",placeholder:"Name",id:"name"})}),Object(o.jsx)("center",{children:Object(o.jsx)("input",{type:"submit",value:"Create Branch",className:"submit-btn"})})]}),Object(o.jsx)(a.b,{to:"/admin",className:"back-btn",children:" Back"}),Object(o.jsx)("p",{id:"error-message"})]})}),g=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],r=t[1];Object(n.useEffect)((function(){window.localStorage.getItem("token")&&b.a.get("http://127.0.0.1:8000/branch/branches/",{headers:{Authorization:"Bearer "+window.localStorage.getItem("token")}}).then((function(e){r(e.data)})).catch((function(e){console.log("errors")}))}),[]);return Object(o.jsxs)("div",{className:"center-content",children:[Object(o.jsx)("center",{children:Object(o.jsx)(a.b,{to:"/admin/branch-create",children:Object(o.jsx)("button",{className:"add-btn",children:"Add "})})}),""===c?Object(o.jsx)("div",{style:{marginTop:"10px"},children:"No Branches"}):Object(o.jsx)("table",{children:Object(o.jsxs)("tbody",{children:[Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Id"}),Object(o.jsx)("th",{children:"Branch Name"}),Object(o.jsx)("th",{})]}),c.map((function(e){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:e.id}),Object(o.jsx)("td",{children:e.name}),Object(o.jsx)("td",{children:Object(o.jsx)("button",{className:"delete-btn",onClick:function(){return t=e.id,void b.a.delete("http://127.0.0.1:8000/branch/branch/".concat(t),{headers:{Authorization:"Bearer "+window.localStorage.getItem("token")}}).then((function(e){window.location="/admin"})).catch((function(e){console.log("errors")}));var t},children:"Delete"})})]},e.id)}))]})})]})},f=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],r=t[1];Object(n.useEffect)((function(){window.localStorage.getItem("token")&&b.a.get("http://127.0.0.1:8000/branch/trucks/",{headers:{Authorization:"Bearer "+window.localStorage.getItem("token")}}).then((function(e){console.log(e.data),r(e.data)})).catch((function(e){console.log("errors")}))}),[]);return Object(o.jsxs)("div",{className:"center-content",children:[Object(o.jsx)("center",{children:Object(o.jsx)(a.b,{to:"/admin/truck-assign",children:Object(o.jsx)("button",{className:"add-btn",children:"Add "})})}),""===c?Object(o.jsx)("div",{style:{marginTop:"10px"},children:"No Trucks"}):Object(o.jsx)("table",{children:Object(o.jsxs)("tbody",{children:[Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Id"}),Object(o.jsx)("th",{children:"Truck Name"}),Object(o.jsx)("th",{children:"Branch Name"}),Object(o.jsx)("th",{})]}),c.map((function(e){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:e.id}),Object(o.jsx)("td",{children:e.name}),Object(o.jsx)("td",{children:e.branch.name}),Object(o.jsx)("td",{children:Object(o.jsx)("button",{className:"delete-btn",onClick:function(){return t=e.id,void b.a.delete("http://127.0.0.1:8000/branch/truck/".concat(t),{headers:{Authorization:"Bearer "+window.localStorage.getItem("token")}}).then((function(e){window.location="/admin"})).catch((function(e){console.log("errors")}));var t},children:"Delete"})})]},e.id)}))]})})]})},p=function(){var e=Object(n.useState)("branches"),t=Object(i.a)(e,2),c=t[0],r=t[1],s=function(e,t){for(var c=document.getElementsByClassName("tab-btn"),n=0;n<c.length;n++)c[n].classList.remove("active");t.currentTarget.classList.add("active"),r(e)};return Object(o.jsxs)("div",{className:"dashboard",children:[Object(o.jsx)(a.b,{to:"/",children:Object(o.jsx)("button",{className:"dashboard-back",children:"Back"})}),Object(o.jsx)("h1",{children:"Admin Dashborad"}),Object(o.jsxs)("div",{className:"tabs",children:[Object(o.jsx)("button",{className:"tab-btn active",onClick:function(e){return s("branches",e)},children:"Branches"}),Object(o.jsx)("button",{className:"tab-btn",onClick:function(e){return s("trucks",e)},children:"Trucks"})]}),Object(o.jsx)("div",{className:"dashboard-content",children:"branches"===c?Object(o.jsx)(g,{}):"trucks"===c?Object(o.jsx)(f,{}):void 0})]})},v=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],r=t[1];Object(n.useEffect)((function(){window.localStorage.getItem("token")&&b.a.get("http://127.0.0.1:8000/branch/branches/",{headers:{Authorization:"Bearer "+window.localStorage.getItem("token")}}).then((function(e){r(e.data)})).catch((function(e){console.log("errors")}))}),[]);return Object(o.jsxs)("div",{className:"neomorphism-effect signin-form",children:[Object(o.jsx)("center",{children:Object(o.jsx)("h2",{children:"Assign Truck to branch"})}),Object(o.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault();var t=document.getElementById("branches"),c=document.getElementById("name");b.a.post("http://127.0.0.1:8000/branch/trucks/",{name:c.value,id:t.value},{headers:{Authorization:"Bearer "+window.localStorage.getItem("token")}}).then((function(e){window.location="/admin"})).catch((function(e){console.log(e),document.getElementById("error-message").innerHTML="=> Something Went Wrong"}))}(e)},children:[Object(o.jsx)("label",{children:"Select Branch"}),Object(o.jsx)("center",{children:Object(o.jsx)("select",{id:"branches",children:""!==c?c.map((function(e){return Object(o.jsx)("option",{value:e.id,children:e.name})})):null})}),Object(o.jsx)("label",{children:"Truck Name"}),Object(o.jsx)("center",{children:Object(o.jsx)("input",{type:"text",placeholder:"Name",id:"name"})}),Object(o.jsx)("center",{children:Object(o.jsx)("input",{type:"submit",value:"Assign Truck",className:"submit-btn"})})]}),Object(o.jsx)(a.b,{to:"/admin",className:"back-btn",children:" Back"}),Object(o.jsx)("center",{children:Object(o.jsx)("p",{id:"error-message"})})]})},k=(c(27),function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],r=t[1];Object(n.useEffect)((function(){window.localStorage.getItem("token")&&b.a.get("http://127.0.0.1:8000/branch/other-branches/",{headers:{Authorization:"Bearer "+window.localStorage.getItem("token")}}).then((function(e){r(e.data)})).catch((function(e){console.log("errors")}))}),[]);return Object(o.jsxs)("div",{className:"signin-form",style:{marginTop:"30px"},children:[Object(o.jsx)("center",{children:Object(o.jsx)("h2",{children:"Enter Luggage Details"})}),Object(o.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault();var t=document.getElementById("branches"),c=document.getElementById("name");b.a.post("http://127.0.0.1:8000/branch/add-work/",{id:t.value,weight:c.value},{headers:{Authorization:"Bearer "+window.localStorage.getItem("token")}}).then((function(e){var t=document.getElementById("error-message"),c="";c=e.data.id?"** "+e.data.message+" Your Tracking id is "+e.data.id+" **":"** "+e.data.message+" **",t.innerHTML=c})).catch((function(e){console.log(e),document.getElementById("error-message").innerHTML="=> Something Went Wrong"}))}(e)},children:[Object(o.jsx)("label",{children:"Select Branch"}),Object(o.jsx)("center",{children:Object(o.jsx)("select",{id:"branches",children:""!==c?c.map((function(e){return Object(o.jsx)("option",{value:e.id,children:e.name})})):null})}),Object(o.jsx)("label",{children:"Weight "}),Object(o.jsx)("center",{children:Object(o.jsx)("input",{type:"number",placeholder:"Weight in Kg",id:"name"})}),Object(o.jsx)("center",{children:Object(o.jsx)("input",{type:"submit",value:"Assign Truck",className:"submit-btn"})})]}),Object(o.jsx)("center",{children:Object(o.jsx)("p",{id:"error-message"})})]})}),w=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],r=t[1];Object(n.useEffect)((function(){window.localStorage.getItem("token")&&b.a.get("http://127.0.0.1:8000/branch/branch-trucks/",{headers:{Authorization:"Bearer "+window.localStorage.getItem("token")}}).then((function(e){console.log(e.data),r(e.data)})).catch((function(e){console.log("errors")}))}),[]);return Object(o.jsx)("div",{className:"center-content",children:""==c?Object(o.jsx)("div",{style:{marginTop:"10px"},children:"No Trucks"}):Object(o.jsx)("table",{children:Object(o.jsxs)("tbody",{children:[Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Id"}),Object(o.jsx)("th",{children:"Truck Name"}),Object(o.jsx)("th",{children:"Branch Name"})]}),c.map((function(e){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:e.id}),Object(o.jsx)("td",{children:e.name}),Object(o.jsx)("td",{children:e.branch.name})]},e.id)}))]})})})},y=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],r=t[1];Object(n.useEffect)((function(){window.localStorage.getItem("token")&&b.a.get("http://127.0.0.1:8000/branch/trips/",{headers:{Authorization:"Bearer "+window.localStorage.getItem("token")}}).then((function(e){console.log(e.data),r(e.data)})).catch((function(e){console.log("errors")}))}),[]);var s=function(e){var t=e.split("-");return t[0]+"-"+t[1]+"-"+t[2][0]+t[2][1]};return Object(o.jsxs)("div",{style:{marginTop:"20px"},children:[Object(o.jsx)("center",{children:Object(o.jsx)("h1",{children:"Previous Trips"})}),""===c?Object(o.jsx)("div",{children:"Loading.."}):Object(o.jsx)("div",{className:"neomorphism-effect tracking-details",children:Object(o.jsx)("table",{children:Object(o.jsxs)("tbody",{children:[Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Source"}),Object(o.jsx)("td",{children:"Destination"}),Object(o.jsx)("td",{children:"Status"}),Object(o.jsx)("td",{children:"Truck Name"}),Object(o.jsx)("td",{children:"Storage"}),Object(o.jsx)("td",{children:"Time"})]}),c.map((function(e){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{style:{color:"grey"},children:e.source.name}),Object(o.jsx)("td",{style:{color:"grey"},children:e.destination.name}),Object(o.jsx)("td",{style:{color:"grey"},children:e.status}),Object(o.jsx)("td",{style:{color:"grey"},children:e.truck.name}),Object(o.jsxs)("td",{style:{color:"grey"},children:[e.space," kg"]}),Object(o.jsx)("td",{style:{color:"grey"},children:s(e.time)})]})}))]})})})]})},N=function(){var e=Object(n.useState)("work"),t=Object(i.a)(e,2),c=t[0],r=t[1],s=function(e,t){for(var c=document.getElementsByClassName("tab-btn"),n=0;n<c.length;n++)c[n].classList.remove("active");t.currentTarget.classList.add("active"),r(e)};return Object(o.jsxs)("div",{className:"dashboard",children:[Object(o.jsx)(a.b,{to:"/",children:Object(o.jsx)("button",{className:"dashboard-back",children:"Back"})}),Object(o.jsx)("h1",{children:"Branch Dashborad"}),Object(o.jsxs)("div",{className:"tabs",children:[Object(o.jsx)("button",{className:"tab-btn active",onClick:function(e){return s("work",e)},children:"Work"}),Object(o.jsx)("button",{className:"tab-btn",onClick:function(e){return s("trips",e)},children:"Trips"}),Object(o.jsx)("button",{className:"tab-btn",onClick:function(e){return s("trucks",e)},children:"Trucks"})]}),Object(o.jsx)("div",{className:"dashboard-content",children:"work"===c?Object(o.jsx)(k,{}):"trucks"===c?Object(o.jsx)(w,{}):"trips"===c?Object(o.jsx)(y,{}):void 0})]})};var S=function(){return Object(o.jsxs)(u.c,{children:[Object(o.jsx)(u.a,{path:"/",exact:!0,children:Object(o.jsx)(h,{})}),Object(o.jsx)(u.a,{path:"/login",exact:!0,children:Object(o.jsx)(O,{})}),Object(o.jsx)(u.a,{path:"/dashboard/:user_type",exact:!0,children:Object(o.jsx)(m,{})}),Object(o.jsx)(u.a,{path:"/admin",exact:!0,children:Object(o.jsx)(p,{})}),Object(o.jsx)(u.a,{path:"/admin/branch-create",exact:!0,children:Object(o.jsx)(x,{})}),Object(o.jsx)(u.a,{path:"/admin/truck-assign",exact:!0,children:Object(o.jsx)(v,{})}),Object(o.jsx)(u.a,{path:"/employee",exact:!0,children:Object(o.jsx)(N,{})})]})};s.a.render(Object(o.jsx)(a.a,{children:Object(o.jsx)(S,{})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.7fc6a279.chunk.js.map